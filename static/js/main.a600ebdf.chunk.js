(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{12:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__YFtx_",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__34zD7"}},13:function(e,t,a){e.exports={Overlay:"Modal_Overlay__26ZPx",Modal:"Modal_Modal__1jw-k"}},27:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__3d69f"}},28:function(e,t,a){e.exports={Button:"Button_Button__2tpmi"}},30:function(e,t,a){e.exports={PreLoader:"Loader_PreLoader__1bepy"}},36:function(e,t,a){},60:function(e,t,a){e.exports={App:"App_App__2aCkR"}},79:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),c=a.n(o),s=(a(36),a(15)),i=a(11),l=a.n(i),u=a(26),h=a(4),d=a(5),m=a(7),p=a(6),b=a(8),g=a.n(b),j=a(1),f=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={query:""},e.onChangeQuery=function(t){e.setState({query:t.target.value})},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this.onChangeQuery,t=this.state.query,a=this.props.onFetchQuery;return Object(j.jsx)("header",{className:g.a.Searchbar,children:Object(j.jsxs)("form",{className:g.a.SearchForm,onSubmit:function(e){e.preventDefault(),a(t)},children:[Object(j.jsx)("button",{type:"submit",className:g.a.SearchFormButton,children:Object(j.jsx)("span",{className:g.a.SearchFormButtonLabel,children:"Search"})}),Object(j.jsx)("input",{className:g.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:e})]})})}}]),a}(n.Component),O=a(27),y=a.n(O),_=function(e){var t=e.children;return Object(j.jsx)("ul",{className:y.a.ImageGallery,children:t})},S=a(12),x=a.n(S),v=function(e){var t=e.src,a=e.alt,n=e.id,r=e.onSwitchModal;return Object(j.jsx)("li",{className:x.a.ImageGalleryItem,onClick:function(e){r(e.target.id)},children:Object(j.jsx)("img",{src:t,alt:a,id:n,className:x.a.ImageGalleryItemImage})})},I=a(13),F=a.n(I),L=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.isOpen,a=e.onSwitchModal,n=e.src,r=e.alt;return t?Object(j.jsx)("div",{className:F.a.Overlay,onClick:function(e){e.currentTarget===e.target&&a()},children:Object(j.jsx)("div",{className:F.a.Modal,children:Object(j.jsx)("img",{src:n,alt:r})})}):null}}]),a}(n.Component),w=a(28),P=a.n(w),M=function(e){var t=e.onAddQuery;return Object(j.jsx)("button",{type:"button",className:P.a.Button,onClick:t,children:"Load more"})},B=a(29),C=a.n(B),k=(a(59),a(30)),N=a.n(k),G=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return Object(j.jsx)("div",{className:N.a.PreLoader,children:Object(j.jsx)(C.a,{type:"ThreeDots",color:"#3f51b5",height:100,width:100,timeout:0})})}}]),a}(n.Component),A=(a(60),a(16)),Q=(a(61),a(14)),q=a.n(Q);q.a.defaults.baseURL="https://pixabay.com/api";var T=function(e,t,a){return q()({method:"get",url:"/?image_type=photo&orientation=horizontal&q=".concat(e,"&page=").concat(t,"&per_page=").concat(a,"&key=").concat("19872241-52e2ff9de1363a0f3b5becb90")})},R=a(31),D=a.n(R),E=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={imgs:[],page:1,perPage:6,isModalOpen:!1,isButtonVisible:!1,isPreLoader:!1,modalImg:"",query:""},e.handleSwitchModal=function(t){e.state.isModalOpen||e.setState({modalImg:e.state.imgs.find((function(e){return+e.id===+t}))}),e.setState({isModalOpen:!e.state.isModalOpen})},e.isLastPage=function(t){var a=e.state,n=a.page;return t/(a.perPage*(n+1))<=1},e.handleFetchQuery=function(){var t=Object(u.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setState({isPreLoader:!0}),""!==a){t.next=5;break}A.b.error("Enter the query"),t.next=12;break;case 5:return t.t0=e,t.t1=a,t.next=9,T(a,e.state.page,e.state.perPage).then((function(t){return e.setState({isButtonVisible:!e.isLastPage(t.data.totalHits)}),t.data.hits})).catch((function(e){return console.log(e),e}));case 9:t.t2=t.sent,t.t3={query:t.t1,page:1,isPreLoader:!1,imgs:t.t2},t.t0.setState.call(t.t0,t.t3);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleAddQuery=function(){var t=e.state,a=t.query,n=t.page,r=t.perPage;e.setState({isPreLoader:!0}),T(a,n+1,r).then((function(t){return e.setState({isButtonVisible:!e.isLastPage(t.data.totalHits)}),t.data.hits})).then((function(t){e.setState((function(e){return{imgs:[].concat(Object(s.a)(e.imgs),Object(s.a)(t)),page:e.page+1,isPreLoader:!1}})),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(e){return console.log(e),e}))},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this.handleFetchQuery,t=this.handleSwitchModal,a=this.handleAddQuery,n=this.state,r=n.imgs,o=n.isModalOpen,c=n.isButtonVisible,s=n.isPreLoader,i=n.modalImg;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(f,{onFetchQuery:e}),Object(j.jsx)(A.a,{position:"top-right",autoClose:3e3,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!1,draggable:!0,pauseOnHover:!1}),Object(j.jsx)(_,{children:r.map((function(e){return Object(j.jsx)(v,{src:e.webformatURL,alt:e.tags,id:e.id,onSwitchModal:t},D()())}))}),c&&Object(j.jsx)(M,{onAddQuery:a}),Object(j.jsx)(L,{isOpen:o,onSwitchModal:t,src:i.largeImageURL,alt:i.tags}),s&&Object(j.jsx)(G,{})]})}}]),a}(n.Component),H=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,80)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,o=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),o(e),c(e)}))};c.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(E,{})}),document.getElementById("root")),H()},8:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__EvRA1",SearchForm:"Searchbar_SearchForm__tTdan",SearchFormButton:"Searchbar_SearchFormButton__26tFl",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__MrXmN",SearchFormInput:"Searchbar_SearchFormInput__3diMo"}}},[[79,1,2]]]);
//# sourceMappingURL=main.a600ebdf.chunk.js.map