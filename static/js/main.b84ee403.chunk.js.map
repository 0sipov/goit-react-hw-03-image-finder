{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/App/App.module.css","components/Searchbar/index.js","components/Searchbar/Searchbar.js","components/ImageGallery/index.js","components/ImageGallery/ImageGallery.js","components/ImageGalleryItem/index.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Modal/index.js","components/Modal/Modal.js","components/Button/index.js","components/Button/Button.js","components/Loader/index.js","components/Loader/Loader.js","utilites/fetch.js","components/App/App.js","reportWebVitals.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","query","onChangeQuery","e","setState","target","value","this","onFetchQuery","props","className","styles","SearchForm","onSubmit","preventDefault","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGallery","children","ImageGalleryItem","src","alt","id","onSwitchModal","onClick","el","ImageGalleryItemImage","Modal","isOpen","Overlay","currentTarget","Button","onAddQuery","Loader","style","PreLoader","color","height","width","timeout","axios","defaults","baseURL","getImgs","page","perPage","method","url","App","imgs","isModalOpen","isButtonVisible","isPreLoader","modalImg","handleSwitchModal","imgId","find","isLastPage","totalHits","handleFetchQuery","a","toast","error","then","response","data","hits","catch","err","console","log","handleAddQuery","r","preState","window","scrollTo","top","document","documentElement","scrollHeight","behavior","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","map","webformatURL","tags","uniqid","largeImageURL","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b84ee403.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__YFtx_\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__34zD7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__26ZPx\",\"Modal\":\"Modal_Modal__1jw-k\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3d69f\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2tpmi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"PreLoader\":\"Loader_PreLoader__1bepy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2aCkR\"};","import Searchbar from './Searchbar';\nexport default Searchbar;\n","import React, { Component } from 'react';\nimport styles from './Searchbar.module.css';\n\nclass SearchBar extends Component {\n  state = {\n    query: '',\n  };\n\n  onChangeQuery = e => {\n    this.setState({ query: e.target.value });\n  };\n\n  render() {\n    const { onChangeQuery } = this;\n    const { query } = this.state;\n    const { onFetchQuery } = this.props;\n    return (\n      <header className={styles.Searchbar}>\n        <form\n          className={styles.SearchForm}\n          onSubmit={e => {\n            e.preventDefault();\n            onFetchQuery(query);\n          }}\n        >\n          <button type=\"submit\" className={styles.SearchFormButton}>\n            <span className={styles.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={styles.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={onChangeQuery}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default SearchBar;\n","import ImageGallery from './ImageGallery';\nexport default ImageGallery;\n","import React from 'react';\nimport styles from './ImageGallery.module.css';\n\nconst ImageGalery = ({ children }) => {\n  return <ul className={styles.ImageGallery}>{children}</ul>;\n};\n\nexport default ImageGalery;\n","import ImageGalleryItem from './ImageGalleryItem';\nexport default ImageGalleryItem;\n","import React from 'react';\nimport styles from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ src, alt, id, onSwitchModal }) => {\n  return (\n    <li\n      className={styles.ImageGalleryItem}\n      onClick={el => {\n        onSwitchModal(el.target.id);\n      }}\n    >\n      <img\n        src={src}\n        alt={alt}\n        id={id}\n        className={styles.ImageGalleryItemImage}\n      />\n    </li>\n  );\n};\nexport default ImageGalleryItem;\n","import Modal from './Modal';\nexport default Modal;\n","import React, { Component } from 'react';\nimport styles from './Modal.module.css';\n\nclass Modal extends Component {\n  render() {\n    const { isOpen, onSwitchModal, src, alt } = this.props;\n    return isOpen ? (\n      <div\n        className={styles.Overlay}\n        onClick={e => {\n          e.currentTarget === e.target && onSwitchModal();\n        }}\n      >\n        <div className={styles.Modal}>\n          <img src={src} alt={alt}></img>\n        </div>\n      </div>\n    ) : null;\n  }\n}\n\nexport default Modal;\n","import Button from './Button';\nexport default Button;\n","import React from 'react';\nimport styles from './Button.module.css';\n\nconst Button = ({ onAddQuery }) => {\n  return (\n    <button type=\"button\" className={styles.Button} onClick={onAddQuery}>\n      Load more\n    </button>\n  );\n};\n\nexport default Button;\n","import Loader from './Loader';\nexport default Loader;\n","import React, { Component } from 'react';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport style from './Loader.module.css';\n\nclass PreLoader extends Component {\n  render() {\n    return (\n      <div className={style.PreLoader}>\n        <Loader\n          type=\"ThreeDots\"\n          color=\"#3f51b5\"\n          height={100}\n          width={100}\n          timeout={0}\n        />\n      </div>\n    );\n  }\n}\n\nexport default PreLoader;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://pixabay.com/api';\nconst APIKey = '19872241-52e2ff9de1363a0f3b5becb90';\n\nconst getImgs = (query, page, perPage) => {\n  return axios({\n    method: 'get',\n    url: `/?image_type=photo&orientation=horizontal&q=${query}&page=${page}&per_page=${perPage}&key=${APIKey}`,\n  });\n};\n\nexport default getImgs;\n","import React, { Component } from 'react';\nimport Searchbar from '../Searchbar';\nimport ImageGallery from '../ImageGallery';\nimport ImageGalleryItem from '../ImageGalleryItem';\nimport Modal from '../Modal';\nimport Button from '../Button';\nimport PreLoader from '../Loader';\nimport './App.module.css';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport getImgs from '../../utilites/fetch';\nimport uniqid from 'uniqid';\n\nclass App extends Component {\n  state = {\n    imgs: [],\n    page: 1,\n    perPage: 21,\n    isModalOpen: false,\n    isButtonVisible: false,\n    isPreLoader: false,\n    modalImg: '',\n    query: '',\n  };\n\n  handleSwitchModal = imgId => {\n    if (!this.state.isModalOpen) {\n      this.setState({\n        modalImg: this.state.imgs.find(el => {\n          return +el.id === +imgId;\n        }),\n      });\n      this.setState({ isModalOpen: !this.state.isModalOpen });\n    } else {\n      this.setState({ isModalOpen: !this.state.isModalOpen });\n    }\n  };\n\n  isLastPage = totalHits => {\n    const { page, perPage } = this.state;\n    return totalHits / (perPage * (page + 1)) <= 1;\n    // return Math.ceil(totalHits / perPage) === page;\n  };\n\n  handleFetchQuery = async query => {\n    this.setState({ isPreLoader: true });\n    if (query === '') {\n      toast.error('Enter the query');\n    } else {\n      this.setState({\n        query: query,\n        page: 1,\n        isPreLoader: false,\n        imgs: await getImgs(query, this.state.page, this.state.perPage)\n          .then(response => {\n            this.setState({\n              isButtonVisible: !this.isLastPage(response.data.totalHits),\n            });\n            return response.data.hits;\n          })\n          .catch(err => {\n            console.log(err);\n            return err;\n          }),\n      });\n    }\n  };\n\n  handleAddQuery = () => {\n    const { query, page, perPage } = this.state;\n    this.setState({ isPreLoader: true });\n    getImgs(query, page + 1, perPage)\n      .then(response => {\n        this.setState({\n          isButtonVisible: !this.isLastPage(response.data.totalHits),\n        });\n        return response.data.hits;\n      })\n      .then(r => {\n        this.setState(preState => ({\n          imgs: [...preState.imgs, ...r],\n          page: preState.page + 1,\n          isPreLoader: false,\n        }));\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      })\n      .catch(err => {\n        console.log(err);\n        return err;\n      });\n  };\n\n  render() {\n    const { handleFetchQuery, handleSwitchModal, handleAddQuery } = this;\n    const {\n      imgs,\n      isModalOpen,\n      isButtonVisible,\n      isPreLoader,\n      modalImg,\n    } = this.state;\n    return (\n      <>\n        <Searchbar onFetchQuery={handleFetchQuery} />\n        <ToastContainer\n          position=\"top-right\"\n          autoClose={3000}\n          hideProgressBar={true}\n          newestOnTop={false}\n          closeOnClick\n          rtl={false}\n          pauseOnFocusLoss={false}\n          draggable\n          pauseOnHover={false}\n        />\n        <ImageGallery>\n          {imgs.map(el => {\n            return (\n              <ImageGalleryItem\n                src={el.webformatURL}\n                alt={el.tags}\n                key={uniqid()}\n                id={el.id}\n                onSwitchModal={handleSwitchModal}\n              />\n            );\n          })}\n        </ImageGallery>\n        {isButtonVisible && <Button onAddQuery={handleAddQuery} />}\n        <Modal\n          isOpen={isModalOpen}\n          onSwitchModal={handleSwitchModal}\n          src={modalImg.largeImageURL}\n          alt={modalImg.tags}\n        />\n        {isPreLoader && <PreLoader />}\n      </>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__EvRA1\",\"SearchForm\":\"Searchbar_SearchForm__tTdan\",\"SearchFormButton\":\"Searchbar_SearchFormButton__26tFl\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__MrXmN\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3diMo\"};"],"sourceRoot":""}