(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{10:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__YFtx_","ImageGalleryItem-image":"ImageGalleryItem_ImageGalleryItem-image__28H1t"}},11:function(e,t,a){e.exports={Overlay:"Modal_Overlay__26ZPx",Modal:"Modal_Modal__1jw-k"}},24:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__3d69f"}},25:function(e,t,a){e.exports={Button:"Button_Button__2tpmi"}},30:function(e,t,a){},33:function(e,t,a){e.exports={App:"App_App__2aCkR"}},52:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),c=a(22),o=a.n(c),i=(a(30),a(13)),s=a(9),l=a.n(s),u=a(23),h=a(3),m=a(4),d=a(6),p=a(5),b=a(7),g=a.n(b),f=a(0),j=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={query:""},e.onChangeQuery=function(t){e.setState({query:t.target.value})},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.onChangeQuery,t=this.state.query,a=this.props.onFetchQuery;return Object(f.jsx)("header",{className:g.a.Searchbar,children:Object(f.jsxs)("form",{className:g.a.SearchForm,onSubmit:function(e){e.preventDefault(),a(t)},children:[Object(f.jsx)("button",{type:"submit",className:g.a.SearchFormButton,children:Object(f.jsx)("span",{className:g.a.SearchFormButtonLabel,children:"Search"})}),Object(f.jsx)("input",{className:g.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:e})]})})}}]),a}(n.Component),y=a(24),O=a.n(y),_=function(e){var t=e.children;return Object(f.jsx)("ul",{className:O.a.ImageGallery,children:t})},S=a(10),x=a.n(S),v=function(e){var t=e.src,a=e.alt,n=e.id,r=e.onSwitchModal;return Object(f.jsx)("li",{className:x.a.ImageGalleryItem,onClick:function(e){r(e.target.id)},children:Object(f.jsx)("img",{src:t,alt:a,id:n,className:x.a.ImageGalleryItem})})},I=a(11),F=a.n(I),M=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.isOpen,a=e.onSwitchModal,n=e.children;return t?Object(f.jsx)("div",{className:F.a.Overlay,onClick:function(e){e.currentTarget===e.target&&a()},children:Object(f.jsx)("div",{className:F.a.Modal,children:n})}):null}}]),a}(n.Component),w=a(25),C=a.n(w),k=function(e){var t=e.onAddQuery;return Object(f.jsx)("button",{type:"button",className:C.a.Button,onClick:t,children:"Load more"})},B=(a(33),a(12)),G=a.n(B);G.a.defaults.baseURL="https://pixabay.com/api";var N=function(e,t){return G()({method:"get",url:"/?image_type=photo&orientation=horizontal&q=".concat(e,"&page=").concat(t,"&per_page=6&key=").concat("19872241-52e2ff9de1363a0f3b5becb90")}).then((function(e){return e.data.hits})).catch((function(e){return e}))},A=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={imgs:[],page:1,isModalOpen:!1,modalImg:"",query:""},e.handleSwitchModal=function(t){e.state.isModalOpen||e.setState({modalImg:e.state.imgs.find((function(e){return+e.id===+t}))}),e.setState({isModalOpen:!e.state.isModalOpen})},e.handleFetchQuery=function(){var t=Object(u.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.t1=a,t.next=4,N(a,e.state.page);case 4:return t.t2=t.sent,t.t3={query:t.t1,page:1,imgs:t.t2},t.abrupt("return",t.t0.setState.call(t.t0,t.t3));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleAddQuery=function(){N(e.state.query,e.state.page+1).then((function(t){e.setState((function(e){return{imgs:[].concat(Object(i.a)(e.imgs),Object(i.a)(t)),page:e.page+1}})),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}))},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.handleFetchQuery,t=this.handleSwitchModal,a=this.handleAddQuery,n=this.state,r=n.imgs,c=n.isModalOpen,o=n.modalImg;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(j,{onFetchQuery:e}),Object(f.jsx)(_,{children:r.map((function(e){return Object(f.jsx)(v,{src:e.webformatURL,alt:e.tags,id:e.id,onSwitchModal:t},e.id)}))}),Object(f.jsx)(k,{onAddQuery:a}),Object(f.jsx)(M,{isOpen:c,onSwitchModal:t,children:Object(f.jsx)("img",{src:o.largeImageURL,alt:o.tags})})]})}}]),a}(n.Component),Q=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,53)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),c(e),o(e)}))};o.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(A,{})}),document.getElementById("root")),Q()},7:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__EvRA1",SearchForm:"Searchbar_SearchForm__tTdan",SearchFormButton:"Searchbar_SearchFormButton__26tFl",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__MrXmN",SearchFormInput:"Searchbar_SearchFormInput__3diMo"}}},[[52,1,2]]]);
//# sourceMappingURL=main.d1243426.chunk.js.map